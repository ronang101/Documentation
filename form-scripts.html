<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>form-scripts &#8212; Redwood Prototype v1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=5cb08e4e"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="canonical" href="https://ronang101.github.io/Documentation/form-scripts.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="main-scripts" href="main-scripts.html" />
    <link rel="prev" title="Database Schema Documentation" href="database_schema.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="form-scripts">
<span id="form-scripts-label"></span><h1>form-scripts<a class="headerlink" href="#form-scripts" title="Link to this heading">¶</a></h1>
<p>This section of the documentation provides details on the JavaScript files within the <cite>form-scripts</cite> directory. These scripts are crucial for handling form interactions, user authentication, and profile creation/editing functionalities.</p>
<section id="editscript-js">
<span id="edit-script-label"></span><h2><strong>editScript.js</strong><a class="headerlink" href="#editscript-js" title="Link to this heading">¶</a></h2>
<p>The <cite>editScript.js</cite> is responsible for facilitating user profile editing. It provides the following functionalities:</p>
<ul class="simple">
<li><p>Populating form fields with existing user data for updates.</p></li>
<li><p>Setting up dropdowns for user preferences such as age filter, rent filter, and duration.</p></li>
<li><p>Initializing Select2 for enhanced dropdown UI (this works for user features, preferences, city select, university select and other options).</p></li>
<li><p>Handling image upload and validation to ensure the image meets the specified criteria.</p></li>
<li><p>Validating the move-in date range upon form submission.</p></li>
<li><p>Managing account deletion confirmation through modal interactions.</p></li>
<li><p>Toggling the side menu for mobile viewports (works for desktop view too but set up for mobile).</p></li>
</ul>
</section>
<section id="key-features-and-functionalities">
<h2>Key Features and Functionalities<a class="headerlink" href="#key-features-and-functionalities" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="toggleMenu">
<span class="sig-name descname"><span class="pre">toggleMenu</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toggleMenu" title="Link to this definition">¶</a></dt>
<dd><p>Responsible for showing or hiding the side panel, which is particularly useful for mobile responsiveness.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="setPreferencesDisabled">
<span class="sig-name descname"><span class="pre">setPreferencesDisabled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">disabled</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#setPreferencesDisabled" title="Link to this definition">¶</a></dt>
<dd><p>Enables or disables the ‘preferences’ select element based on user interactions, and clears selections when disabled.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="DOMContentLoaded">
<span class="sig-name descname"><span class="pre">DOMContentLoaded</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#DOMContentLoaded" title="Link to this definition">¶</a></dt>
<dd><p>Activates once the DOM is fully loaded, initializing dropdowns and setting up event listeners for profile editing.</p>
</dd></dl>

</section>
<section id="login-js">
<span id="login-label"></span><h2><strong>login.js</strong><a class="headerlink" href="#login-js" title="Link to this heading">¶</a></h2>
<p>The <cite>login.js</cite> script manages user authentication through Google sign-in:</p>
<ul class="simple">
<li><p>Configuring Firebase for the project.</p></li>
<li><p>Handling the sign-in process with a popup and Google provider.</p></li>
<li><p>Sending the Google ID token to the server for verification and handling post-authentication user redirection.</p></li>
</ul>
</section>
<section id="id1">
<h2>Key Features and Functionalities<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="signInWithGoogle">
<span class="sig-name descname"><span class="pre">signInWithGoogle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#signInWithGoogle" title="Link to this definition">¶</a></dt>
<dd><p>Initiates the sign-in process with Firebase using a Google provider popup and manages the authentication flow.</p>
</dd></dl>

</section>
<section id="implementation-details">
<h2>Implementation Details<a class="headerlink" href="#implementation-details" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><strong>Firebase Configuration</strong>:
Sets up the Firebase configuration specific to your project, including keys and project identifiers.</p></li>
<li><p><strong>Firebase Initialization</strong>:
Initializes Firebase with the provided configuration, enabling its services for the application.</p></li>
<li><p><strong>Google Sign-In Process</strong>:
- Leverages Firebase Authentication to initiate a Google sign-in process.
- Utilizes a popup window for users to select their Google account and authenticate.
- On successful sign-in, the user’s ID token is retrieved.</p></li>
<li><p><strong>Server Communication</strong>:
- The Google ID token is sent to the server via a POST request.
- This is essential for verifying the user’s identity on the server-side and maintaining session integrity.</p></li>
<li><p><strong>Post-Authentication Redirection</strong>:
- Upon successful authentication and server verification, the user is redirected to a specific route, as dictated by the server response.</p></li>
<li><p><strong>Error Handling</strong>:
Catches and logs any errors that may occur during the sign-in process, ensuring robustness in authentication.</p></li>
<li><p><strong>Event Listener on Sign-In Button</strong>:
Attaches a click event listener to the Google sign-in button, activating the <cite>signInWithGoogle</cite> function.</p></li>
</ol>
</section>
<section id="usercreation-js">
<span id="usercreation-label"></span><h2><strong>userCreation.js</strong><a class="headerlink" href="#usercreation-js" title="Link to this heading">¶</a></h2>
<p>The <cite>userCreation.js</cite> script is similar to <cite>editScript.js</cite> but is tailored for the user profile creation process (no pre populated fields):</p>
<ul class="simple">
<li><p>Populating dropdowns for user preferences such as age, rent, and duration.</p></li>
<li><p>Handling image upload and validation for new profile creation.</p></li>
<li><p>Validating the move-in date range and file size upon form submission.</p></li>
</ul>
</section>
<section id="id2">
<h2>Key Features and Functionalities<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="initializeFormElements">
<span class="sig-name descname"><span class="pre">initializeFormElements</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#initializeFormElements" title="Link to this definition">¶</a></dt>
<dd><p>Sets up the dropdowns for various user preferences and filters, and initializes Select2 for enhanced dropdown functionality.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="handleImageUpload">
<span class="sig-name descname"><span class="pre">handleImageUpload</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#handleImageUpload" title="Link to this definition">¶</a></dt>
<dd><p>Manages the image upload process, including validation for image size and dimensions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="validateFormSubmission">
<span class="sig-name descname"><span class="pre">validateFormSubmission</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#validateFormSubmission" title="Link to this definition">¶</a></dt>
<dd><p>Ensures that the form submission adheres to specific criteria, including valid date ranges and file size limits.</p>
</dd></dl>

</section>
<section id="integration-with-html">
<h2>Integration with HTML<a class="headerlink" href="#integration-with-html" title="Link to this heading">¶</a></h2>
<p>Each script is linked to its respective HTML file, where form elements are defined and the script is included at the bottom of the HTML document to ensure the DOM is loaded before the script runs. Interaction with these elements is managed via the document’s event listeners, allowing for real-time, client-side validation and UI updates.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- Example of script inclusion in HTML --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../static/scripts/form-scripts/login.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>For more detailed instructions on usage and customization, refer to the usage and comments within each script and the associated HTML files for context.</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="frontend_backend_interaction.html#frontend-backend-interaction-label"><span class="std std-ref">Frontend-Backend Interaction</span></a> for how these scripts integrate with the backend.</p></li>
<li><p><a class="reference internal" href="modules_overview.html#modules-overview-label"><span class="std std-ref">Modules Overview</span></a> for an overview of related modules.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Redwood Prototype</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules_overview.html">Modules Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontend_backend_interaction.html">Frontend-Backend Interaction Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="database_schema.html">Database Schema Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">form-scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#editscript-js"><strong>editScript.js</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#key-features-and-functionalities">Key Features and Functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#login-js"><strong>login.js</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Key Features and Functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#implementation-details">Implementation Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usercreation-js"><strong>userCreation.js</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Key Features and Functionalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#integration-with-html">Integration with HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="main-scripts.html">main-scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_modules.html">Python Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="design_rationale.html">Design Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_setup.html">Environment Setup and Required Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_work.html">Future Work and Development Roadmap</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="database_schema.html" title="previous chapter">Database Schema Documentation</a></li>
      <li>Next: <a href="main-scripts.html" title="next chapter">main-scripts</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Ronan Geraghty.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/form-scripts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>